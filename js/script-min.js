"use strict";let noJs=document.querySelector("html");noJs.classList.remove("no-js");let activeMenu=document.querySelector(".site-menu-open"),subMenuWrapper=document.querySelector(".site-submenu-wrapper");function menuHendler(e){e.preventDefault(),subMenuWrapper.classList.toggle("hide")}activeMenu&&activeMenu.addEventListener("click",menuHendler);let searchLink=document.querySelector(".header-search-link"),searchWrapper=document.querySelector(".header-search-wrapper");function searchLinkHendler(e){e.preventDefault(),searchWrapper.classList.toggle("hide")}searchLink&&searchLink.addEventListener("click",searchLinkHendler);let loginLink=document.querySelector(".header-login-link"),loginWrapper=document.querySelector(".header-login-wrapper");function loginLinkHendler(e){e.preventDefault(),loginWrapper.classList.toggle("hide")}loginLink&&loginLink.addEventListener("click",loginLinkHendler);let cardLink=document.querySelector(".header-card-full"),cardWrapper=document.querySelector(".header-card-wrapper");function cardLinkHendler(e){e.preventDefault(),cardWrapper.classList.toggle("hide")}cardLink&&cardLink.addEventListener("click",cardLinkHendler);let subscribe=document.querySelector(".subscription"),subscribeForm=subscribe.querySelector("form"),subscribeInput=subscribeForm.querySelector(".subscription-input"),subscribeLabel=subscribeForm.querySelector(".subscription-label"),subscribeSend=subscribeForm.querySelector(".subscription-send");function subscribeHendler(e){subscribeInput.value||(e.preventDefault(),subscribeInput.classList.add("subscription-error"),subscribeLabel.classList.add("subscription-label-on"))}subscribe&&subscribeSend.addEventListener("click",subscribeHendler);let formSend,userName,userEmail,userText,writeUs=document.querySelector(".legend-contact"),writeUsModal=document.querySelector(".writeus"),modalOverlay=document.querySelector(".modal-overlay"),isStorageSupport=!0,storageName="",storageEmail="";function setCloseEvent(e){e.querySelector(".modal-close").addEventListener("click",function(r){r.preventDefault(),e.classList.add("hide"),modalOverlay.classList.add("hide")}),modalOverlay.addEventListener("click",function(){e.classList.add("hide"),modalOverlay.classList.add("hide")})}function setCloseEsc(e){window.addEventListener("keydown",function(r){27===r.keyCode&&(r.preventDefault(),e.classList.contains("hide")||(e.classList.add("hide"),modalOverlay.classList.add("hide")))})}function writeUsHendler(e){e.preventDefault(),writeUsModal.classList.remove("hide"),modalOverlay.classList.remove("hide"),setCloseEvent(writeUsModal),setCloseEsc(writeUsModal);try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}storageName&&(userName.value=storageName),storageName&&storageEmail&&(userName.value=storageName,userEmail.value=storageEmail),formSend.addEventListener("submit",function(e){writeUsModal.classList.remove("modal-error"),userName.value?userName.value&&!userEmail.value?(e.preventDefault(),userEmail.focus(),writeUsModal.classList.add("modal-error")):(localStorage.setItem("name",userName.value),localStorage.setItem("email",userEmail.value)):(e.preventDefault(),userName.focus(),writeUsModal.classList.add("modal-error"))})}writeUs&&(formSend=writeUsModal.querySelector("form"),userName=formSend.querySelector(".writeus-name"),userEmail=formSend.querySelector(".writeus-email"),userText=formSend.querySelector(".writeus-text")),writeUs&&writeUs.addEventListener("click",writeUsHendler);